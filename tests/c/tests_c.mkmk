# Copyright 2015 the Neutrino authors (see AUTHORS).
# Licensed under the Apache License, Version 2.0 (see LICENSE).

all = get_group('all')

helloworld_filenames = [
  "helloworld.cc"
]

helloworld = c.get_executable("helloworld")
helloworld.add_dependency(get_external("src", "c", "library"))
helloworld.get_settings().add_local("linkflags",
  "/subsystem:console",
  "/entry:mainCRTStartup",
  toolchain="msvc")

for filename in helloworld_filenames:
  source = c.get_source_file(filename)
  source.add_include(get_dep("tclib").get_child("src", "c"))
  source.add_include(get_root().get_child("src", "c"))
  object = source.get_object()
  helloworld.add_object(object)

all.add_member(helloworld)

run_tests = add_alias("run-tests")
